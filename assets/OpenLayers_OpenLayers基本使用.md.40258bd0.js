import{_ as s,o as n,c as a,a as l}from"./app.c25d72b6.js";const p="/OpenLayers/OpenLayers\u57FA\u672C\u4F7F\u7528.png",d=JSON.parse('{"title":"OpenLayers\u57FA\u672C\u4F7F\u7528","description":"","frontmatter":{"title":"OpenLayers\u57FA\u672C\u4F7F\u7528"},"headers":[{"level":2,"title":"\u5B89\u88C5openLayers\u5305","slug":"\u5B89\u88C5openlayers\u5305","link":"#\u5B89\u88C5openlayers\u5305","children":[]},{"level":2,"title":"\u4F7F\u7528","slug":"\u4F7F\u7528","link":"#\u4F7F\u7528","children":[]}],"relativePath":"OpenLayers/OpenLayers\u57FA\u672C\u4F7F\u7528.md"}'),o={name:"OpenLayers/OpenLayers\u57FA\u672C\u4F7F\u7528.md"},e=l('<h1 id="openlayers\u57FA\u672C\u4F7F\u7528" tabindex="-1">OpenLayers\u57FA\u672C\u4F7F\u7528 <a class="header-anchor" href="#openlayers\u57FA\u672C\u4F7F\u7528" aria-hidden="true">#</a></h1><p><img src="'+p+`" alt="" data-fancybox="gallery"></p><h2 id="\u5B89\u88C5openlayers\u5305" tabindex="-1">\u5B89\u88C5openLayers\u5305 <a class="header-anchor" href="#\u5B89\u88C5openlayers\u5305" aria-hidden="true">#</a></h2><ul><li>\u6211\u8FD9\u91CC\u4F7F\u7528\u76847.1.0\u7248\u672C</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">npm install ol@7.1.0</span></span>
<span class="line"></span></code></pre></div><h2 id="\u4F7F\u7528" tabindex="-1">\u4F7F\u7528 <a class="header-anchor" href="#\u4F7F\u7528" aria-hidden="true">#</a></h2><ul><li>\u5728vue\u4E2D\u4F7F\u7528</li></ul><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">map</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">import &#39;ol/ol.css&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">import TileLayer from &#39;ol/layer/Tile&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">import XYZ from &#39;ol/source/XYZ&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">import </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> Map</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> View </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> from &#39;ol&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">import </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> fromLonLat </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> from &#39;ol/proj&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">export default </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">data</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    return {</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">map</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">mapView</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">center</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fromLonLat</span><span style="color:#A6ACCD;">([</span><span style="color:#F78C6C;">108.939062</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">34.374741</span><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// \u5730\u56FE\u4E2D\u5FC3\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">zoom</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">11</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// \u521D\u59CB\u7F29\u653E\u7EA7\u522B</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">minZoom</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// \u6700\u5C0F\u7F29\u653E\u7EA7\u522B</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">maxZoom</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">17</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// \u6700\u5927\u7F29\u653E\u7EA7\u522B</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;">// \u74E6\u7247\u5F15\u5165\u5730\u5740 nginx</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;">// mapUrl: \`http://127.0.0.1:9098/tiles/{z}/{x}/{y}.png\`</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;">// \u74E6\u7247\u672C\u5730\u5F15\u5165 \u74E6\u7247\u7B49\u7EA7\u8D8A\u9AD8\u52A0\u8F7D\u7F16\u8BD1\u8D8A\u6162</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;">// \u5728 public \u4E0B\u65B0\u5EFA tiles \u6587\u4EF6\u5939\uFF0C\u5C06\u4E0B\u597D\u7684\u74E6\u7247\u653E\u8FDB\u53BB</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">mapUrl</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">tiles/{z}/{x}/{y}.png</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  mounted() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">initMap</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  methods: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// \u521D\u59CB\u5316\u5730\u56FE</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">initMap</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      const tileLayer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">TileLayer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">source</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">XYZ</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">mapUrl</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.map </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.map </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Map</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">layers</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [tileLayer]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">View</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">mapView)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">map</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// \u5C06\u5730\u56FE\u6CE8\u5165\u5230 dom \u5143\u7D20\u4E2D\uFF0C\u6B64\u5904\u5199 dom id</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">scoped</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">#map </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  width: </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  height: </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  position: absolute;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div>`,8),t=[e];function c(r,D,y,F,C,A){return n(),a("div",null,t)}const m=s(o,[["render",c]]);export{d as __pageData,m as default};
